---
title: Configuring PGD repositories
---

## Overview

To install and run PGD requires that you configure repositories so that the system can download the appropriate packages.

The following operations should be carried out on each and system you wish to be a data node, witness node or subscribe-only node.

### EDB account

You'll need an EDB account to install both Postgres and PGD.

You should have an EDB account. Use this to sign in to the [EDB Repos 2.0](https://www.enterprisedb.com/repos-downloads) page, where you can obtain your repo token. 

On your first visit to this page, select **Request Access** to generate your repo token. Copy the token using the **Copy Token** icon, and store it safely. 

### Setting environment variables

First, set the `EDB_SUBSCRIPTION_TOKEN` environment variable to the value of your EDB repo token, obtained in the [EDB account](#edb-account) step.

```
export EDB_SUBSCRIPTION_TOKEN=<your-repo-token>
```

You can add this to your `.bashrc` script or similar shell profile to ensure it's always set. 

!!! Note 
Your preferred platform may support storing this variable as a secret which can appear as an environment variable. If this is the case, don't add the setting to `.bashrc` and instead add it to your platform's secret managent.
!!!

### Configure the repository

All the software you need is available from the EDB Postgres Distributed package repository.
You have the option to simply download and run a script to configure the EDB Postgres Distributed repository. 
You can also download, inspect and then run that same script.
The following instructions also include the essential steps that the scripts take for any user wanting to manually run, or automate, the installation process.

#### Ubuntu/Debian

You can autoinstall with automated OS detection

```
curl -1sLf "https://downloads.enterprisedb.com/$EDB_SUBSCRIPTION_TOKEN/postgres_distributed/setup.deb.sh" | sudo -E bash
```

If you wish to inspect the script that is generated for you:

```
curl -1sLf "https://downloads.enterprisedb.com/$EDB_SUBSCRIPTION_TOKEN/postgres_distributed/setup.deb.sh" 
# Inspect setup.deb.sh
sudo -E bash setup.deb.sh
```

or if you wish to run all steps manually, the following approach takes on many situations.
Set the DISTRO environment variable to "ubuntu" or "debian" and the CODENAME environment variable to "jammy" or "focal" (for Ubuntu) or "11"/"12" (for Debian)

```
export DISTRO="ubuntu"
export CODENAME="jammy"
sudo apt-get install -y debian-keyring debian-archive-keyring apt-transport-https 
keyring_location=/usr/share/keyrings/enterprisedb-postgres_distributed-archive-keyring.gpg
curl -1sLf "https://downloads.enterprisedb.com/$EDB_SUBSCRIPTION_TOKEN/postgres_distributed/gpg.B09F406230DA0084.key" |  gpg --dearmor | sudo tee ${keyring_location} >/dev/null
curl -1sLf "https://downloads.enterprisedb.com/$EDB_SUBSCRIPTION_TOKEN/postgres_distributed/config.deb.txt?distro=$DISTRO&codename=$CODENAME" | sudo tee /etc/apt/sources.list.d/enterprisedb-postgres_distributed.list >/dev/null
sudo apt-get update
```


#### RHEL/Other RHEL-based

You can autoinstall with automated OS detection

```
curl -1sLf "https://downloads.enterprisedb.com/$EDB_SUBSCRIPTION_TOKEN/postgres_distributed/setup.rpm.sh" | sudo -E bash
```

If you wish to inspect the script that is generated for you:

```
curl -1sLfO "https://downloads.enterprisedb.com/$EDB_SUBSCRIPTION_TOKEN/postgres_distributed/setup.rpm.sh" 
# Inspect setup.rpm.sh
sudo -E bash setup.rpm.sh
```

or if you wish to run all steps manually, the following approach takes on many situations.
Note that you may need to change the codename to match the version of RHEL you are using.


```
export DISTRO="el"
export CODENAME="9"
sudo dnf install -y yum-utils 
sudo rpm --import "https://downloads.enterprisedb.com/$EDB_SUBSCRIPTION_TOKEN/postgres_distributed/gpg.B09F406230DA0084.key"
curl -1sLf "https://downloads.enterprisedb.com/$EDB_SUBSCRIPTION_TOKEN/postgres_distributed/config.rpm.txt?distro=$DISTRO&codename=$CODENAME" > /tmp/enterprise.repo
sudo dnf config-manager --add-repo '/tmp/enterprise.repo'
sudo dnf -q makecache -y --disablerepo='*' --enablerepo='enterprisedb-postgres_distributed'
```

