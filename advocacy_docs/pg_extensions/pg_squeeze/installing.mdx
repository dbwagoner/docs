---
title: Installing PG Squeeze 
navTitle: Installing
---

PG Squeeze is supported on the same platforms as the Postgres distribution you're using. Support for PG Squeeze starts with Postgres 11. For details, see:

- [EDB Postgres Advanced Server Product Compatibility](https://www.enterprisedb.com/platform-compatibility#epas)
- [PostgreSQL Product Compatibility](https://www.enterprisedb.com/resources/platform-compatibility#pg)
- [EDB Postgres Extended Server Product Compatibility](https://www.enterprisedb.com/resources/platform-compatibility#epas_extended)

## Prerequisites

Before you begin the installation process, install Postgres. See: 

  - [Installing EDB Postgres Advanced Server](/epas/latest/installing/)

  - [Installing PostgreSQL](https://www.postgresql.org/download/) 

  - [Installing EDB Postgres Extended Server](/pge/latest/installing/)


## Installation

1. Ensure that the `pg_config` binary is present. It is typically included in -dev and -devel packages.

  ```shell
  git clone git@github.com:EnterpriseDB/pg_squeeze.git
  cd pg_squeeze
  make
  make install
  ```

1. Add these to `postgresql.conf`:

  ```shell
  wal_level = logical
  max_replication_slots = 1 # ... or add 1 to the current value.
  shared_preload_libraries = 'pg_squeeze' # ... or add the library to the existing ones.
  ```

1. Restart the cluster, and invoke:

  ```shell
  CREATE EXTENSION pg_squeeze;
  ```

Note: when upgrading a database cluster with `pg_squeeze` installed (either using `pg_dumpall`/`pg_restore` or `pg_upgrade`), make sure that the new cluster has `pg_squeeze` in `shared_preload_libraries` before you upgrade. Otherwise the upgrade will fail.

## Upgrade

Ensure that PostgreSQL is installed  and `pg_config` is present, as described in [Installation](#installation).

Perform the following commands:

```shell
make # Compile the newer version.
pg_ctl -D /path/to/cluster stop # Stop the cluster.
make install
pg_ctl -D /path/to/cluster start # Start the cluster.
```

Connect to each database containing `pg_squeeze` and run this command:

```shell
ALTER EXTENSION pg_squeeze UPDATE;
```
### Upgrade from 1.2.x

Because there is no straightforward way to migrate the scheduling information automatically (see the notes on the schedule column of the `squeeze.tables` table), and because the schedule column must not contain NULL values, the upgrade deletes the contents of the `squeeze.tables` table. Export the table contents to a file before you perform the upgrade and configure the checks of those tables again as soon as the upgrade is complete.

